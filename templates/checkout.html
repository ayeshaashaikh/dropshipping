<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Checkout â€“ Premium Dropshipping</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

  <style>
    /* === Root Variables === */
    :root {
      --primary: #800000; /* Maroon */
      --secondary: #ffffff; /* White */
      --background: #f8f8f8; /* Light Grey Background */
      --text: #333333; /* Dark Text */
      --card-shadow: rgba(0, 0, 0, 0.07);
      --light-gray: #f1f3f5;
      --medium-gray: #dee2e6;
      --dark-gray: #495057;
    }
    /* === Base Body/Link Styles === */
    body {
      font-family: 'Open Sans', sans-serif; background: var(--background);
      margin: 0; padding: 0; color: var(--text);
      min-height: 100vh; display: flex; flex-direction: column;
    }
    main { flex-grow: 1; }
    a { text-decoration: none; color: var(--primary); }
    a:hover { color: #a00000; }

    /* === Promo Banner Styles === */
    .promo {
        background-color: var(--primary);
        color: var(--secondary);
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
        font-weight: 500;
        text-align: center;
    }
    .promo .btn-close {
        filter: invert(1) grayscale(100%) brightness(200%);
        font-size: 0.8rem;
        padding: 0.5rem; /* Easier to click */
    }

    /* === Navbar Styles (FIXED) === */
    .navbar {
        background-color: var(--primary);
        padding-top: 0.5rem;
        padding-bottom: 0.5rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .navbar-brand img {
        height: 50px;
    }
    .navbar-brand {
         margin-right: 1rem;
    }
    /* REMOVED RULE THAT CAUSED MISALIGNMENT: .navbar > .container { padding-left: 100px; } */
    .navbar-nav .nav-link {
        color: rgba(255, 255, 255, 0.85);
        padding: 0.5rem 1rem;
        font-weight: 500;
        border-radius: 4px;
        transition: background-color 0.2s, color 0.2s;
        margin: 0 0.2rem;
    }
    .navbar-nav .nav-link:hover {
        color: #fff !important;
        background-color: rgba(255, 255, 255, 0.1);
    }
    .navbar-nav .nav-link.active {
        background-color: transparent !important;
        /* color: #fff !important; */ /* Uncomment if active link should be full white */
        /* font-weight: 700; */ /* Uncomment if active link should be bolder */
    }
    .dropdown-menu {
        border-radius: 6px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        border: none;
        font-size: 0.95rem;
        margin-top: 0.5rem !important;
    }
    .dropdown-item {
        padding: 0.5rem 1rem;
        color: var(--text);
        transition: background-color 0.2s, color 0.2s;
    }
    .dropdown-item:hover {
        background-color: var(--light-gray);
        color: var(--primary);
    }
    .dropdown-item i {
        color: var(--dark-gray);
        width: 1.2em;
        margin-right: 0.3rem;
    }
    .dropdown-divider {
        border-top-color: var(--medium-gray);
    }
    .navbar form .form-control {
        border-radius: 20px;
        padding-left: 2.5rem;
        font-size: 0.9rem;
        border: none;
        height: calc(1.5em + 0.75rem + 2px); /* Match button height */
        padding-top: 0.375rem;
        padding-bottom: 0.375rem;
    }
    .navbar form .search-icon {
        position: absolute;
        left: 0.8rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--dark-gray);
        pointer-events: none;
    }
    .navbar .flex-row .nav-link {
       color: rgba(255, 255, 255, 0.9);
       padding: 0.5rem 0.6rem;
       border-radius: 4px; /* Match other links */
       transition: background-color 0.2s, color 0.2s;
    }
    .navbar .flex-row .nav-link:hover {
       color: #fff;
       background-color: rgba(255, 255, 255, 0.1);
    }
    .navbar .flex-row .nav-link .bi-heart-fill {
       color: #dc3545; /* Bootstrap's danger red */
    }
    .badge-cart {
       position: absolute;
       top: 0px;
       right: -5px;
       font-size: 0.65em;
       padding: 0.25em 0.45em;
       border-radius: 50%;
       background-color: #dc3545;
       color: white;
       line-height: 1;
    }
    .navbar-toggler {
       border-color: rgba(255, 255, 255, 0.2);
    }
    .navbar-toggler-icon {
       background-image: url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(255, 255, 255, 0.8)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E");
    }


    /* === Page Header Styles === */
     .page-header {
        padding-top: 2.5rem;
        margin-bottom: 2rem;
        text-align: center;
        animation: fadeInUp 0.8s ease-out forwards;
        opacity: 0;
    }
    .section-title {
        font-family: 'Poppins', sans-serif;
        font-weight: 700;
        color: var(--text);
        margin-bottom: 0.5rem;
        font-size: 2rem;
    }
    .section-subtitle {
        font-size: 1rem;
        color: var(--dark-gray);
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }
    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* === CHECKOUT SPECIFIC STYLES === */
    .checkout-section {
        background-color: var(--secondary);
        border-radius: 8px;
        box-shadow: 0 4px 15px var(--card-shadow);
        padding: 2rem;
        margin-bottom: 1.5rem;
    }
    .checkout-section h4, .checkout-section h5 {
        font-family: 'Poppins', sans-serif;
        font-weight: 600;
        margin-bottom: 1.5rem;
        padding-bottom: 0.75rem;
        border-bottom: 1px solid var(--medium-gray);
        font-size: 1.2rem;
        color: var(--text);
    }
    .form-label {
        font-weight: 500;
        font-size: 0.9rem;
        margin-bottom: 0.3rem;
        color: var(--dark-gray);
    }
    .form-control, .form-select {
        font-size: 0.95rem;
        border: 1px solid var(--medium-gray);
        border-radius: 6px;
        padding: 0.6rem 0.9rem;
        transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
    }
    .form-control:focus, .form-select:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 0.2rem rgba(128, 0, 0, 0.15);
        outline: 0;
    }
    .form-control::placeholder {
        color: #adb5bd;
        opacity: 1;
    }
    .form-control:disabled, .form-control[readonly] {
        background-color: #e9ecef;
        opacity: 1;
    }

    .method-placeholder {
        background-color: var(--light-gray);
        border: 1px dashed var(--medium-gray);
        padding: 1rem 1.5rem;
        border-radius: 6px;
        font-size: 0.9rem;
        color: var(--dark-gray);
        text-align: center;
    }
    .payment-icons img {
        height: 24px;
        margin: 0 0.2rem;
        opacity: 0.8;
        vertical-align: middle;
    }


    /* Order Summary Card */
    .order-summary-card {
        background-color: var(--secondary); border-radius: 8px;
        box-shadow: 0 4px 15px var(--card-shadow); padding: 1.5rem;
        position: sticky; top: 90px; /* Adjust if navbar height changes */
    }
    .order-summary-card h5 {
        font-family: 'Poppins', sans-serif; font-weight: 600; font-size: 1.1rem;
        margin-bottom: 1.5rem; padding-bottom: 0.75rem;
        border-bottom: 1px solid var(--medium-gray);
        color: var(--text);
    }
    .summary-row {
        display: flex; justify-content: space-between;
        margin-bottom: 0.9rem; font-size: 0.95rem;
    }
    .summary-row span:first-child { color: var(--dark-gray); }
    .summary-row span:last-child { font-weight: 500; color: var(--text); }

    .summary-total {
        margin-top: 1.5rem; padding-top: 1.5rem;
        border-top: 1px solid var(--medium-gray); font-weight: 600;
        font-size: 1.1rem; display: flex; justify-content: space-between;
    }
    .summary-total span:last-child { color: var(--primary); font-weight: 700; }

    /* Place Order Button */
    .btn-place-order {
        font-family: 'Poppins', sans-serif; font-weight: 600; font-size: 1rem;
        padding: 0.8rem 1.5rem; border-radius: 50px; background: var(--primary);
        border-color: var(--primary); color: var(--secondary);
        transition: background-color 0.3s, border-color 0.3s, transform 0.2s, box-shadow 0.3s;
        width: 100%; margin-top: 1.5rem; display: inline-flex;
        align-items: center; justify-content: center; gap: 0.6rem;
        box-shadow: 0 4px 10px rgba(128, 0, 0, 0.2);
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }
    .btn-place-order:hover {
        background-color: #a00000; border-color: #a00000;
        color: var(--secondary); /* Ensure text remains white */
        transform: scale(1.03); box-shadow: 0 6px 15px rgba(128, 0, 0, 0.3);
    }
    .btn-place-order:disabled {
        background-color: var(--medium-gray); border-color: var(--medium-gray);
        color: var(--dark-gray);
        cursor: not-allowed; transform: none; opacity: 0.7; box-shadow: none;
    }

    .summary-info-text {
        font-size: 0.85rem; color: var(--dark-gray); text-align: center; margin-top: 1rem;
    }
    .summary-info-text i { margin-right: 0.3rem; vertical-align: middle;}

    /* === Responsive Adjustments === */
    @media (max-width: 991.98px) { /* Tablet */
         .order-summary-card {
             position: static;
             top: auto;
             margin-top: 1.5rem;
          }
         .navbar-collapse {
             margin-top: 0.5rem; /* Add space when collapsed */
         }
         .navbar-nav {
            align-items: center; /* Center items when stacked */
         }
         .navbar form {
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
         }
         .navbar .flex-row {
            justify-content: center; /* Center icons */
            margin-top: 0.5rem;
         }
    }
    @media (max-width: 767.98px) { /* Mobile */
         .page-header { padding-top: 2rem; margin-bottom: 1.5rem; }
         .section-title { font-size: 1.6rem; }
         .section-subtitle { font-size: 0.9rem; }
         .checkout-section { padding: 1.5rem; }
         .checkout-section h4, .checkout-section h5 { font-size: 1.1rem; }
         .order-summary-card { padding: 1rem 1.5rem; }
         .promo { font-size: 0.8rem; padding: 0.5rem 1rem;}
         .navbar-brand img { height: 40px; } /* Slightly smaller logo */
    }

  </style>
</head>
<body>

  <!-- Promo Banner -->
  <div class="promo alert alert-dismissible fade show mb-0 rounded-0" role="alert">
    <i class="bi bi-truck me-2"></i>Free shipping on orders over $50!
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>

  <!-- Navbar (Fixed Layout) -->
  <nav class="navbar navbar-expand-lg">
    <div class="container">
     
       
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu" aria-controls="navMenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navMenu">
            <!-- Use ms-auto to push this entire group to the right -->
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-center">
              <!-- Home Link -->
              <li class="nav-item">
                <a class="nav-link" href="{{ url_for('home') if url_for else '#' }}">Home</a>
            </li>
              <!-- Shop Link (Dropdown) -->
              <a class="nav-link" href="{{ url_for('customer_products') if url_for else '#' }}">Shop</a>

              <!-- Cart Icon (Moved here) -->
              <li class="nav-item position-relative me-lg-3"> <!-- Added margin for spacing -->
                <a class="nav-link" href="#" aria-label="View Cart">
                    <i class="bi bi-cart-fill fs-5"></i>
                    <span class="badge bg-danger badge-cart">2</span>
                </a>
              </li>
              <!-- Wishlist Icon (Moved here) -->
              <li class="nav-item position-relative me-lg-3"> <!-- Added margin for spacing -->
                <a class="nav-link" href="#" aria-label="View Wishlist">
                  <i class="bi bi-heart-fill fs-5"></i>
                </a>
              </li>
              <!-- Account Icon (Moved here) -->
              <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="accountDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="My Account"> <i class="bi bi-person-circle fs-5"></i> </a>
                  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="accountDropdown">
                     <li><a class="dropdown-item" href="#"><i class="bi bi-person-lines-fill me-2"></i>My Account</a></li>
                     <li><a class="dropdown-item" href="#"><i class="bi bi-receipt me-2"></i>Orders</a></li>
                     <li><hr class="dropdown-divider"></li>
                     <li><a class="dropdown-item text-danger" href="#"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
                  </ul>
              </li>
            </ul>
            <!-- The separate flex-row ul is now removed -->
            <!-- The search form was also removed as per your previous code example -->
          </div>
    </div>
  </nav>

  <!-- Main Checkout Content -->
  <main class="container my-4">

      <div class="page-header mb-4 text-center">
        <h1 class="section-title">Checkout</h1>
        <p class="section-subtitle">Complete your purchase by providing the following details.</p>
      </div>

      <!-- Example: Manually setting total for display -->
      {% set ns = namespace(total=16400.00) %}

      <form action="#" method="post" id="checkout-form"> <!-- Replaced url_for with # -->
        <div class="row">
            <!-- Checkout Details Column -->
            <div class="col-lg-7 order-lg-1">

                <!-- Contact Information -->
                <section class="checkout-section">
                    <h4>Contact Information</h4>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email Address</label>
                        <input type="email" class="form-control" id="email" name="email" placeholder="you@example.com" value="you@example.com" required>
                    </div>
                </section>

                <!-- Shipping Address -->
                <section class="checkout-section">
                    <h4>Shipping Address</h4>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="firstName" class="form-label">First name</label>
                            <input type="text" class="form-control" id="firstName" name="first_name" required>
                        </div>
                        <div class="col-md-6">
                            <label for="lastName" class="form-label">Last name</label>
                            <input type="text" class="form-control" id="lastName" name="last_name" required>
                        </div>
                        <div class="col-12">
                            <label for="address" class="form-label">Address</label>
                            <input type="text" class="form-control" id="address" name="address1" placeholder="1234 Main St" value="1234 Main St" required>
                        </div>
                        <div class="col-12">
                            <label for="address2" class="form-label">Address 2 <span class="text-muted">(Optional)</span></label>
                            <input type="text" class="form-control" id="address2" name="address2" placeholder="Apartment or suite">
                        </div>
                        <div class="col-md-5">
                            <label for="city" class="form-label">City</label>
                            <input type="text" class="form-control" id="city" name="city" required>
                        </div>
                        <div class="col-md-4">
                            <label for="state" class="form-label">State/Province</label>
                            <input type="text" class="form-control" id="state" name="state" required>
                        </div>
                        <div class="col-md-3">
                            <label for="zip" class="form-label">Zip / Postal code</label>
                            <input type="text" class="form-control" id="zip" name="zip_code" required>
                        </div>
                         <div class="col-12">
                            <label for="country" class="form-label">Country</label>
                            <select class="form-select" id="country" name="country" required>
                                <option value="">Choose...</option>
                                <option value="US">United States</option>
                                <option value="CA">Canada</option>
                                <option value="GB">United Kingdom</option>
                                <option value="AU">Australia</option>
                                <!-- Add other countries as needed -->
                            </select>
                        </div>
                    </div>
                </section>

                <!-- Shipping Method (Placeholder) -->
                 <section class="checkout-section">
                    <h4>Shipping Method</h4>
                    <div class="method-placeholder">
                        <p class="mb-1 fw-medium">Standard Shipping (5-7 Business Days)</p>
                        <small class="d-block">Shipping options and costs will be calculated at the next step.</small>
                         <!-- Add radio buttons here later if needed -->
                    </div>
                </section>

                <!-- Payment Method (Placeholder) -->
                <section class="checkout-section">
                    <h4>Payment Method</h4>
                    <div class="method-placeholder">
                        <i class="bi bi-credit-card-fill me-2 fs-5 align-middle"></i>
                        <span class="align-middle">Secure payment processing will be handled externally.</span>
                        <div class="mt-2 payment-icons">
                            <img src="https://via.placeholder.com/40x24/eee/888?text=Visa" alt="Visa">
                            <img src="https://via.placeholder.com/40x24/eee/888?text=MC" alt="Mastercard">
                            <img src="https://via.placeholder.com/40x24/eee/888?text=Amex" alt="Amex">
                            <img src="https://via.placeholder.com/40x24/eee/888?text=PayPal" alt="PayPal">
                         </div>
                    </div>
                     <p class="text-muted small mt-3">
                        <i class="bi bi-lock-fill me-1"></i> Your payment information is encrypted and secure. You will be redirected to our payment partner.
                     </p>
                     <!-- IMPORTANT: Actual payment fields (Card number, CVC, Expiry)
                          should NOT be plain HTML inputs. Use Stripe Elements, Braintree,
                          PayPal SDK, or similar secure JavaScript integrations provided
                          by your payment gateway. This section is only a placeholder. -->
                </section>

            </div>

            <!-- Order Summary Column -->
            <div class="col-lg-5 order-lg-2">
                <div class="order-summary-card">
                    <h5>Order Summary</h5>
                    <div class="summary-row">
                        <span>Subtotal</span>
                        <span>${{ "%.2f"|format(ns.total) }}</span>
                    </div>
                    <div class="summary-row">
                        <span>Shipping</span>
                        <span>Calculated</span>
                    </div>
                     <div class="summary-row">
                        <span>Tax</span>
                         <span>Calculated</span>
                    </div>
                    <div class="summary-row summary-total">
                        <span>Total</span>
                        <span>${{ "%.2f"|format(ns.total) }}</span>
                    </div>

                    <button type="submit" class="btn btn-place-order" {% if ns.total <= 0 %}disabled{% endif %}>
                        <i class="bi bi-bag-check-fill"></i> Place Order
                    </button>

                     <p class="summary-info-text mt-3">
                        <i class="bi bi-info-circle"></i> By placing your order, you agree to our Terms & Conditions.
                     </p>
                </div>
            </div>
        </div>
      </form>

  </main>

  <!-- Essential Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Add JS for form validation or payment integration here later -->

</body>
</html>